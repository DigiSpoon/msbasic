REM ALL BITS OUTPUT ON VIA1 PORTB1
POKE 24578,255
PRINT PEEK(24578)

REM INIT LCD 4-BIT MODE
REM SET 4-BIT 0000 0010 LSB/HSB
POKE 24576,2:REM 0010 LSB
POKE 24576,2+64:REM 
POKE 24576,2:REM 0010 LSB
POKE 24576,0:REM 0000 HSB


REM LCD INSTRUCTION

REM lda #%00101000 ; Set 4-bit mode; 2-line display; 5x8 font
REM--SEND HIGH 4 BITS
POKE 24576,2:REM SEND HSB
POKE 24576,66:REM SET E BIT
POKE 24576,2:REM CLEAR E BIT
REM--SEND LOW 4 BITS
POKE 24576,8:REM LSB
POKE 24576,72:REM SET E BIT
POKE 24576,8:REM CLEAR E BIT


REM lda #%00001110 ; Display on; cursor on; blink off jsr 
REM--SEND HIGH 4 BITS
POKE 24576,0:REM SEND HSB
POKE 24576,64:REM SET E BIT
POKE 24576,0:REM CLEAR E BIT
REM--SEND LOW 4 BITS
POKE 24576,13:REM LSB
POKE 24576,77:REM SET E BIT
POKE 24576,13:REM CLEAR E BIT


REM 00000110 ; entry mode set: Increment and shift cursor to right;


POKE 24576,0:REM SEND HSB
POKE 24576,64:REM SET E BIT
POKE 24576,0:REM CLEAR E BIT
REM--SEND LOW 4 BITS
POKE 24576,6:REM LSB
POKE 24576,70:REM SET E BIT
POKE 24576,6:REM CLEAR E BIT


REM lda #$00000001 ; Clear display
REM--SEND HIGH 4 BITS
POKE 24576,0:REM SEND HSB
POKE 24576,64:REM SET E BIT
POKE 24576,0:REM CLEAR E BIT
REM--SEND LOW 4 BITS
POKE 24576,1:REM LSB
POKE 24576,65:REM SET E BIT
POKE 24576,1:REM CLEAR E BIT

