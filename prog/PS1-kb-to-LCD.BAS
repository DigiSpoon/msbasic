ACTUAL PROGRAM THAT WORKS:

 2 E=64
 3 RW=32
 4 RS=16
 5 REM PRINT"R,RW,RS"
 6 REM PRINT E:PRINT RW:PRINT RS
 7 REM PRINT ""
 9 GOSUB 300:REM INIT LCD
 10 DIM L(96,2)
 11 REM
 12 DIM K(99):REM PS2 KB TO ASCII
 15 REM Q $15 0001 0101  1 5
 20 GOSUB 500
 25 GOSUB 600
 30 REM START
 35 K=PEEK(16385)
 40 T=PEEK(16385)
 45 IF T<>K THEN GOSUB 80
 50 GOTO 40
 79 END
 80 PRINT STR$(T) + " " + STR$(K)
 81 IF T=119 THEN GOTO 99
 82 IF T=118 THEN GOTO 91
 83 IF T=90 THEN GOTO 95
 84 IF T>99 THEN GOTO 40
 86 K=T:C=K(T)
 88 GOSUB100
 89 RETURN
 91 I(1)=0:I(2)=1:GOSUB200
 92 PRINT"CLS":K=T
 93 GOTO 40
 95 I(1)=10:I(2)=8:REM ENT PRESSED
 96 PRINT"ENT":GOSUB200
 97 K=T:GOTO 40
 99 END
 100 REM PRNTCHR GET MSB/LSB
 101 HI=L(C,1)
 102 LO=L(C,2)
 103 REM PRINT "#"+STR$(C)+" H"+STR$(L(C,1))+":"+STR$(L(C,2))
 104 REM PRINT C:PRINT CHR$(C):PRINT HI:PRINT LO
 105 POKE 24576,HI
 110 POKE 24576,HI+RS
 115 POKE 24576,HI+RS+E
 120 POKE 24576,HI+RS
 125 POKE 24576,LO
 130 POKE 24576,LO+RS
 135 POKE 24576,LO+RS+E
 140 POKE 24576,LO+RS
 150 RETURN
 200 REM LCD INSTR
 201 HI=I(1)
 202 LO=I(2)
 203 POKE 24576,HI
 204 POKE 24576,HI+E
 205 POKE 24576,HI
 206 POKE 24576,LO
 207 POKE 24576,LO+E
 208 POKE 24576,LO
 209 RETURN

 300 REM INIT LCD
 305 POKE 24578,255:REM ALL OUTP
 310 REM SET 4-BIT MODE
 311 POKE 24576,2
 312 POKE 24576,66:REM SET E
 313 POKE 24576,2:REM CLR E
 325 I(1)=2:I(2)=8:GOSUB200
 335 I(1)=0:I(2)=14:GOSUB200
 345 I(1)=0:I(2)=6:GOSUB200
 350 RETURN
 500 REM LCD DISPLAY HEX
 532 L(32,1)=2:L(32,2)=0:REM SPACE
 539 L(39,1)=2:L(39,2)=7:REM '
 544 L(44,1)=2:L(44,2)=12:REM ,
 545 L(45,1)=2:L(45,2)=13:REM -
 546 L(46,1)=2:L(46,2)=14:REM .
 547 L(47,1)=2:L(47,2)=15:REM /
 548 L(48,1)=3:L(48,2)=0:REM 0
 549 L(49,1)=3:L(49,2)=1:REM 1
 550 L(50,1)=3:L(50,2)=2:REM 2
 551 L(51,1)=3:L(51,2)=3:REM 3
 552 L(52,1)=3:L(52,2)=4:REM 4
 553 L(53,1)=3:L(53,2)=5:REM 5
 554 L(54,1)=3:L(54,2)=6:REM 6
 555 L(55,1)=3:L(55,2)=7:REM 7
 556 L(56,1)=3:L(56,2)=8:REM 8
 557 L(57,1)=3:L(57,2)=9:REM 9
 559 L(59,1)=3:L(59,2)=11:REM ;
 561 L(61,1)=3:L(61,2)=13:REM =
 565 L(65,1)=4:L(65,2)=1:REM A
 566 L(66,1)=4:L(66,2)=2:REM B
 567 L(67,1)=4:L(67,2)=3:REM C
 568 L(68,1)=4:L(68,2)=4:REM D
 569 L(69,1)=4:L(69,2)=5:REM E
 570 L(70,1)=4:L(70,2)=6:REM F
 571 L(71,1)=4:L(71,2)=7:REM G
 572 L(72,1)=4:L(72,2)=8:REM H
 573 L(73,1)=4:L(73,2)=9:REM I
 574 L(74,1)=4:L(74,2)=10:REM J
 575 L(75,1)=4:L(75,2)=11:REM K
 576 L(76,1)=4:L(76,2)=12:REM L
 577 L(77,1)=4:L(77,2)=13:REM M
 578 L(78,1)=4:L(78,2)=14:REM N
 579 L(79,1)=4:L(79,2)=15:REM O
 580 L(80,1)=5:L(80,2)=0:REM P
 581 L(81,1)=5:L(81,2)=1:REM Q
 582 L(82,1)=5:L(82,2)=2:REM R
 583 L(83,1)=5:L(83,2)=3:REM S
 584 L(84,1)=5:L(84,2)=4:REM T
 585 L(85,1)=5:L(85,2)=5:REM U
 586 L(86,1)=5:L(86,2)=6:REM V
 587 L(87,1)=5:L(87,2)=7:REM W
 588 L(88,1)=5:L(88,2)=8:REM X
 589 L(89,1)=5:L(89,2)=9:REM Y
 590 L(90,1)=5:L(90,2)=10:REM Z
 591 L(91,1)=5:L(91,2)=11:REM [
 592 L(92,1)=5:L(92,2)=12:REM \
 593 L(93,1)=5:L(93,2)=13:REM ]
 599 RETURN
 600 REM PS2 KB TO ASCII
 621 K(21)=81:REM Q
 622 K(22)=49:REM 1
 626 K(26)=90:REM Z
 627 K(27)=83:REM S
 628 K(28)=65:REM A
 629 K(29)=87:REM W
 630 K(30)=50:REM 2
 632 K(41)=32:REM SPACE
 633 K(33)=67:REM C
 634 K(34)=88:REM X
 635 K(35)=68:REM D
 636 K(36)=69:REM E
 637 K(37)=52:REM 4
 638 K(38)=51:REM 3
 642 K(42)=86:REM V
 643 K(43)=70:REM F
 644 K(44)=84:REM T
 645 K(45)=82:REM R
 646 K(46)=53:REM 5
 649 K(49)=78:REM N
 650 K(50)=66:REM B
 651 K(51)=72:REM H
 652 K(52)=71:REM G
 653 K(53)=89:REM Y
 654 K(54)=54:REM 6
 658 K(58)=77:REM M
 659 K(59)=74:REM J
 660 K(60)=85:REM U
 661 K(61)=55:REM 7
 662 K(62)=56:REM 8
 665 K(65)=44:REM ,
 666 K(66)=75:REM K
 667 K(67)=73:REM I
 668 K(68)=79:REM O
 669 K(69)=48:REM 0
 670 K(70)=57:REM 9
 673 K(73)=46:REM .
 674 K(74)=47:REM /
 675 K(75)=76:REM L
 676 K(76)=59:REM ;
 677 K(77)=80:REM P
 678 K(78)=45:REM -
 682 K(82)=39:REM '
 684 K(84)=91:REM [
 685 K(85)=61:REM =
 691 K(91)=93:REM ]
 693 K(93)=92:REM \
 699 RETURN
 
 